<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§¾ á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º - Professional POS</title>
    <style>
        body { font-family: 'Pyidaungsu', sans-serif; background: #fdf2e9; padding: 15px; color: #333; line-height: 1.6; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #d35400; margin-bottom: 5px; }
        .info-section { background: #fff4e6; padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .info-section input { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        .menu-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid #eee; }
        .controls { display: flex; align-items: center; gap: 10px; }
        .btn-qty { background: #e67e22; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-weight: bold; }
        .cart-box { margin-top: 30px; background: #fffaf0; padding: 15px; border-radius: 15px; border: 2px dashed #f39c12; }
        .total-price { font-size: 1.6em; text-align: center; color: #d35400; margin: 15px 0; font-weight: bold; border-top: 1px solid #ddd; padding-top: 10px; }
        .btn-invoice { width: 100%; background: #27ae60; color: white; border: none; padding: 15px; font-size: 1.1em; border-radius: 10px; cursor: pointer; font-weight: bold; }
        .invoice-display { display: none; background: #f9f9f9; padding: 15px; margin-top: 15px; border: 1px solid #ccc; border-radius: 10px; white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 0.9em; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ— á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º</h1>
    <p style="text-align:center;">Online á€™á€¾á€¬á€šá€°á€›á€”á€ºá€…á€”á€…á€º</p>

    <div class="info-section">
        <input type="text" id="cust-name" placeholder="ğŸ‘¤ á€á€šá€ºá€šá€°á€á€°á€¡á€™á€Šá€º">
        <input type="tel" id="cust-phone" placeholder="ğŸ“ á€–á€¯á€”á€ºá€¸á€”á€¶á€•á€«á€á€º">
        <div style="display:flex; gap:10px;">
            <input type="date" id="order-date">
            <input type="time" id="order-time">
        </div>
    </div>

    <div id="menu-list"></div>

    <div class="cart-box">
        <h3>ğŸ›’ á€™á€¾á€¬á€šá€°á€‘á€¬á€¸á€á€±á€¬á€…á€¬á€›á€„á€ºá€¸</h3>
        <div id="cart-items">á€•á€…á€¹á€…á€Šá€ºá€¸á€™á€›á€½á€±á€¸á€›á€á€±á€¸á€•á€«á‹</div>
        <div class="total-price" id="total-price">á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: 0 MMK</div>
        <button class="btn-invoice" onclick="generateInvoice()">ğŸ“„ Invoice (á€˜á€±á€¬á€€á€ºá€á€»á€¬) á€‘á€¯á€á€ºá€™á€Šá€º</button>
    </div>

    <div id="invoice-result" class="invoice-display"></div>
</div>

<script>
    const menu = {
        'á€€á€¼á€€á€ºá€•á€±á€«á€„á€º': 4000, 'á€€á€¼á€€á€ºá€›á€„á€ºá€¡á€¯á€¶': 4000, 'á€†á€­á€á€ºá€á€¬á€¸á€€á€„á€º': 1500,
        'á€¡á€á€¬á€¸á€á€»á€±á€¬á€„á€ºá€¸': 800, 'á€¡á€›á€±á€á€½á€¶': 500, 'á€¡á€á€±á€¬á€„á€ºá€•á€»á€¶': 500,
        'á€¡á€á€±á€¬á€„á€ºá€•á€»á€¶(CP)': 1000, 'á€¡á€°': 500, 'á€á€±á€«á€„á€ºá€¸': 300,
        'á€œá€Šá€ºá€á€»á€±á€¬á€„á€ºá€¸': 300, 'á€¡á€á€Šá€ºá€¸á€™á€¼á€…á€º': 500, 'á€á€¼á€±á€‘á€±á€¬á€€á€º': 300,
        'á€á€¼á€±á€‘á€±á€¬á€€á€º(CP)': 700, 'á€œá€€á€ºá€™á€±á€¬á€„á€ºá€¸á€œá€¯á€¶á€¸': 1000, 'á€¡á€†á€®á€•á€°á€¸': 800,
        'á€¡á€á€¬á€¸á€á€¯': 400, 'á€›á€¯á€¶á€¸á€•á€á€±á€á€®á€¸': 300, 'á€¡á€•á€ºá€™á€¾á€­á€¯': 1000, 'á€„á€¯á€¶á€¸á€¥': 1000
    };

    let cart = {};

    // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€·á€…á€½á€²á€”á€²á€· á€¡á€á€»á€­á€”á€ºá€€á€­á€¯ Auto á€–á€¼á€Šá€·á€ºá€•á€±á€¸á€á€¼á€„á€ºá€¸
    window.onload = () => {
        const now = new Date();
        document.getElementById('order-date').value = now.toISOString().split('T')[0];
        document.getElementById('order-time').value = now.toTimeString().slice(0,5);
        displayMenu();
    };

    function displayMenu() {
        const menuList = document.getElementById('menu-list');
        for (let item in menu) {
            menuList.innerHTML += `
                <div class="menu-item">
                    <span>${item} (${menu[item]} K)</span>
                    <div class="controls">
                        <button class="btn-qty" onclick="changeQty('${item}', -1)">-</button>
                        <span id="qty-${item}">0</span>
                        <button class="btn-qty" onclick="changeQty('${item}', 1)">+</button>
                    </div>
                </div>`;
        }
    }

    function changeQty(item, delta) {
        if (!cart[item]) cart[item] = 0;
        cart[item] += delta;
        if (cart[item] < 0) cart[item] = 0;
        
        document.getElementById(`qty-${item}`).innerText = cart[item];
        updateCartDisplay();
    }

    function updateCartDisplay() {
        const cartItems = document.getElementById('cart-items');
        const totalPrice = document.getElementById('total-price');
        let html = "";
        let total = 0;

        for (let item in cart) {
            if (cart[item] > 0) {
                let subtotal = cart[item] * menu[item];
                total += subtotal;
                html += `<div>âœ… ${item} x ${cart[item]} = ${subtotal.toLocaleString()} K</div>`;
            }
        }

        cartItems.innerHTML = html || "á€•á€…á€¹á€…á€Šá€ºá€¸á€™á€›á€½á€±á€¸á€›á€á€±á€¸á€•á€«á‹";
        totalPrice.innerText = `á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: ${total.toLocaleString()} MMK`;
    }

    function generateInvoice() {
        const name = document.getElementById('cust-name').value;
        const phone = document.getElementById('cust-phone').value;
        const date = document.getElementById('order-date').value;
        const time = document.getElementById('order-time').value;

        if (Object.keys(cart).every(k => cart[k] === 0)) return alert("á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€›á€„á€ºá€›á€½á€±á€¸á€•á€«!");
        if (!name || !phone) return alert("á€¡á€™á€Šá€ºá€”á€¾á€„á€·á€º á€–á€¯á€”á€ºá€¸á€”á€¶á€•á€«á€á€º á€–á€¼á€Šá€·á€ºá€•á€±á€¸á€•á€«á€¦á€¸!");

        let total = 0;
        let text = "ğŸ§¾ --- á€™á€¼á€„á€ºá€á€¬á€€á€¼á€€á€ºá€€á€„á€º --- \n";
        text += `ğŸ“… á€›á€€á€ºá€…á€½á€²: ${date}  â° á€¡á€á€»á€­á€”á€º: ${time}\n`;
        text += `ğŸ‘¤ á€¡á€™á€Šá€º: ${name}\n`;
        text += `ğŸ“ á€–á€¯á€”á€ºá€¸: ${phone}\n`;
        text += "------------------------------\n";

        for (let item in cart) {
            if (cart[item] > 0) {
                let subtotal = cart[item] * menu[item];
                total += subtotal;
                text += `â€¢ ${item} x ${cart[item]} = ${subtotal.toLocaleString()} K\n`;
            }
        }

        text += "------------------------------\n";
        text += `ğŸ’° á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: ${total.toLocaleString()} MMK\n`;
        text += "------------------------------\n";
        text += "á€€á€»á€±á€¸á€‡á€°á€¸á€á€„á€ºá€•á€«á€á€Šá€ºá€á€„á€ºá€—á€»á€¬á‹";

        const res = document.getElementById('invoice-result');
        res.innerText = text;
        res.style.display = "block";

        navigator.clipboard.writeText(text);
        alert("á€˜á€±á€¬á€€á€ºá€á€»á€¬á€€á€­á€¯ Copy á€€á€°á€¸á€œá€­á€¯á€€á€ºá€•á€«á€•á€¼á€®á‹ Messenger/Viber á€™á€¾á€¬ Paste á€œá€¯á€•á€ºá€•á€¼á€®á€¸ á€•á€­á€¯á€·á€œá€­á€¯á€€á€ºá€•á€«á‹");
    }
</script>

</body>
</html>
